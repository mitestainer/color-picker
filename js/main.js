var colorList = [{
    name: 'AliceBlue',
    red: 240,
    green: 248,
    blue: 255
}, {
    name: 'AntiqueWhite',
    red: 250,
    green: 235,
    blue: 215
}, {
    name: 'Aqua',
    red: 0,
    green: 255,
    blue: 255
}, {
    name: 'Aquamarine',
    red: 127,
    green: 255,
    blue: 212
}, {
    name: 'Azure',
    red: 240,
    green: 255,
    blue: 255
}, {
    name: 'Biege',
    red: 245,
    green: 245,
    blue: 220
}, {
    name: 'Bisque',
    red: 255,
    green: 228,
    blue: 196
}, {
    name: 'Black',
    red: 0,
    green: 0,
    blue: 0
}, {
    name: 'BlanchedAlmond',
    red: 255,
    green: 235,
    blue: 205
}, {
    name: 'Blue',
    red: 0,
    green: 0,
    blue: 255
}, {
    name: 'BlueViolet',
    red: 138,
    green: 43,
    blue: 226
}, {
    name: 'Brown',
    red: 165,
    green: 42,
    blue: 42
}, {
    name: 'BurlyWood',
    red: 222,
    green: 184,
    blue: 135
}, {
    name: 'CadetBlue',
    red: 95,
    green: 158,
    blue: 160
}, {
    name: 'Chartreuse',
    red: 127,
    green: 255,
    blue: 0
}, {
    name: 'Chocolate',
    red: 210,
    green: 105,
    blue: 30
}, {
    name: 'Coral',
    red: 255,
    green: 127,
    blue: 80
}, {
    name: 'CornflowerBlue',
    red: 100,
    green: 149,
    blue: 237
}, {
    name: 'Cornsilk',
    red: 255,
    green: 248,
    blue: 220
}, {
    name: 'Crimson',
    red: 220,
    green: 20,
    blue: 60
}, {
    name: 'Cyan',
    red: 0,
    green: 255,
    blue: 255
}, {
    name: 'DarkBlue',
    red: 0,
    green: 0,
    blue: 139
}, {
    name: 'DarkCyan',
    red: 0,
    green: 139,
    blue: 139
}, {
    name: 'DarkGoldenRod',
    red: 184,
    green: 134,
    blue: 11
}, {
    name: 'DarkGray',
    red: 169,
    green: 169,
    blue: 169
}, {
    name: 'DarkGreen',
    red: 0,
    green: 100,
    blue: 0
}, {
    name: 'DarkKhaki',
    red: 189,
    green: 183,
    blue: 107
}, {
    name: 'DarkMagenta',
    red: 139,
    green: 0,
    blue: 139
}, {
    name: 'DarkOliveGreen',
    red: 85,
    green: 107,
    blue: 47
}, {
    name: 'DarkOrange',
    red: 255,
    green: 140,
    blue: 0
}, {
    name: 'DarkOrchid',
    red: 153,
    green: 50,
    blue: 204
}, {
    name: 'DarkRed',
    red: 139,
    green: 0,
    blue: 0
}, {
    name: 'DarkSalmon',
    red: 233,
    green: 150,
    blue: 122
}, {
    name: 'DarkSeanGreen',
    red: 143,
    green: 188,
    blue: 143
}, {
    name: 'DarkSlateBlue',
    red: 72,
    green: 61,
    blue: 139
}, {
    name: 'DarkSlateGray',
    red: 47,
    green: 79,
    blue: 47
}, {
    name: 'DarkTurquoise',
    red: 0,
    green: 206,
    blue: 209
}, {
    name: 'DarkViolet',
    red: 148,
    green: 0,
    blue: 211
}, {
    name: 'DeepPink',
    red: 255,
    green: 20,
    blue: 147
}, {
    name: 'DeepSkyBlue',
    red: 0,
    green: 191,
    blue: 255
}, {
    name: 'DimGray',
    red: 105,
    green: 105,
    blue: 105
}, {
    name: 'DodgerBlue',
    red: 30,
    green: 144,
    blue: 255
}, {
    name: 'FireBrick',
    red: 178,
    green: 34,
    blue: 34
}, {
    name: 'FloralWhite',
    red: 255,
    green: 250,
    blue: 240
}, {
    name: 'ForestGreen',
    red: 34,
    green: 139,
    blue: 34
}, {
    name: 'Fuchsia',
    red: 255,
    green: 0,
    blue: 255
}, {
    name: 'Gainsboro',
    red: 220,
    green: 220,
    blue: 220
}, {
    name: 'GhostWhite',
    red: 248,
    green: 248,
    blue: 255
}, {
    name: 'Gold',
    red: 255,
    green: 215,
    blue: 0
}, {
    name: 'GoldenRod',
    red: 218,
    green: 165,
    blue: 32
}, {
    name: 'Gray',
    red: 128,
    green: 128,
    blue: 128
}, {
    name: 'Green',
    red: 0,
    green: 128,
    blue: 0
}, {
    name: 'GreenYellow',
    red: 173,
    green: 255,
    blue: 47
}, {
    name: 'HoneyDew',
    red: 240,
    green: 255,
    blue: 240
}, {
    name: 'HotPink',
    red: 255,
    green: 105,
    blue: 180
}, {
    name: 'IndianRed',
    red: 205,
    green: 92,
    blue: 92
}, {
    name: 'Indigo',
    red: 75,
    green: 0,
    blue: 130
}, {
    name: 'Ivory',
    red: 255,
    green: 255,
    blue: 240
}, {
    name: 'Khaki',
    red: 240,
    green: 230,
    blue: 140
}, {
    name: 'Lavender',
    red: 230,
    green: 230,
    blue: 250
}, {
    name: 'LavenderBlush',
    red: 255,
    green: 240,
    blue: 245
}, {
    name: 'LawnGreen',
    red: 124,
    green: 252,
    blue: 0
}, {
    name: 'LemonChiffon',
    red: 255,
    green: 250,
    blue: 205
}, {
    name: 'LightBlue',
    red: 173,
    green: 216,
    blue: 230
}, {
    name: 'LightCoral',
    red: 240,
    green: 128,
    blue: 128
}, {
    name: 'LightCyan',
    red: 224,
    green: 255,
    blue: 255
}, {
    name: 'LightGoldenRodYellow',
    red: 250,
    green: 250,
    blue: 210
}, {
    name: 'LightGray',
    red: 221,
    green: 221,
    blue: 211
}, {
    name: 'LightGreen',
    red: 144,
    green: 238,
    blue: 144
}, {
    name: 'LightPink',
    red: 255,
    green: 182,
    blue: 193
}, {
    name: 'LightSalmon',
    red: 255,
    green: 160,
    blue: 122
}, {
    name: 'LightSeaGreen',
    red: 32,
    green: 178,
    blue: 170
}, {
    name: 'LightSkyBlue',
    red: 135,
    green: 206,
    blue: 250
}, {
    name: 'LightSlateGray',
    red: 119,
    green: 136,
    blue: 153
}, {
    name: 'LightSteelBlue',
    red: 176,
    green: 196,
    blue: 222
}, {
    name: 'LightYellow',
    red: 225,
    green: 255,
    blue: 224
}, {
    name: 'Lime',
    red: 0,
    green: 255,
    blue: 0
}, {
    name: 'LimeGreen',
    red: 50,
    green: 205,
    blue: 50
}, {
    name: 'Linen',
    red: 250,
    green: 240,
    blue: 230
}, {
    name: 'Magenta',
    red: 255,
    green: 0,
    blue: 255
}, {
    name: 'Maroon',
    red: 128,
    green: 0,
    blue: 0
}, {
    name: 'MediumAquaMarine',
    red: 102,
    green: 205,
    blue: 170
}, {
    name: 'MediumBlue',
    red: 0,
    green: 0,
    blue: 205
}, {
    name: 'MediumOrchid',
    red: 186,
    green: 85,
    blue: 211
}, {
    name: 'MediumPurple',
    red: 147,
    green: 112,
    blue: 219
}, {
    name: 'MediumSeaGreen',
    red: 60,
    green: 179,
    blue: 113
}, {
    name: 'MediumSlateBlue',
    red: 123,
    green: 104,
    blue: 238
}, {
    name: 'MediumSpringGreen',
    red: 0,
    green: 250,
    blue: 154
}, {
    name: 'MediumTurquoise',
    red: 72,
    green: 209,
    blue: 204
}, {
    name: 'MediumVioletRed',
    red: 199,
    green: 21,
    blue: 133
}, {
    name: 'MidnightBlue',
    red: 25,
    green: 25,
    blue: 112
}, {
    name: 'MintCream',
    red: 245,
    green: 255,
    blue: 250
}, {
    name: 'MistyRose',
    red: 255,
    green: 228,
    blue: 225
}, {
    name: 'Moccasin',
    red: 255,
    green: 228,
    blue: 181
}, {
    name: 'NavajoWhite',
    red: 255,
    green: 222,
    blue: 173
}, {
    name: 'Navy',
    red: 0,
    green: 0,
    blue: 128
}, {
    name: 'OldLace',
    red: 253,
    green: 245,
    blue: 230
}, {
    name: 'Olive',
    red: 128,
    green: 128,
    blue: 0
}, {
    name: 'OliveDrab',
    red: 107,
    green: 142,
    blue: 35
}, {
    name: 'Orange',
    red: 255,
    green: 165,
    blue: 0
}, {
    name: 'OrangeRed',
    red: 255,
    green: 69,
    blue: 0
}, {
    name: 'Orchid',
    red: 218,
    green: 112,
    blue: 214
}, {
    name: 'PaleGoldenRod',
    red: 238,
    green: 232,
    blue: 170
}, {
    name: 'PaleGreen',
    red: 152,
    green: 251,
    blue: 152
}, {
    name: 'PaleTurquoise',
    red: 175,
    green: 238,
    blue: 238
}, {
    name: 'PaleVioletRed',
    red: 219,
    green: 112,
    blue: 147
}, {
    name: 'PapayaWhip',
    red: 255,
    green: 239,
    blue: 213
}, {
    name: 'PeachPuff',
    red: 255,
    green: 218,
    blue: 185
}, {
    name: 'Peru',
    red: 205,
    green: 133,
    blue: 63
}, {
    name: 'Pink',
    red: 255,
    green: 192,
    blue: 203
}, {
    name: 'Plum',
    red: 221,
    green: 160,
    blue: 221
}, {
    name: 'PowderBlue',
    red: 176,
    green: 224,
    blue: 230
}, {
    name: 'Purple',
    red: 128,
    green: 0,
    blue: 128
}, {
    name: 'RebeccaPurple',
    red: 102,
    green: 51,
    blue: 153
}, {
    name: 'Red',
    red: 255,
    green: 0,
    blue: 0
}, {
    name: 'RosyBrown',
    red: 188,
    green: 143,
    blue: 143
}, {
    name: 'RoyalBlue',
    red: 65,
    green: 105,
    blue: 225
}, {
    name: 'SaddleBrown',
    red: 139,
    green: 69,
    blue: 19
}, {
    name: 'Salmon',
    red: 250,
    green: 128,
    blue: 114
}, {
    name: 'SandyBrown',
    red: 244,
    green: 164,
    blue: 96
}, {
    name: 'SeaGreen',
    red: 46,
    green: 139,
    blue: 87
}, {
    name: 'SeaShell',
    red: 255,
    green: 245,
    blue: 238
}, {
    name: 'Sienna',
    red: 160,
    green: 82,
    blue: 45
}, {
    name: 'Silver',
    red: 192,
    green: 192,
    blue: 192
}, {
    name: 'SkyBlue',
    red: 135,
    green: 206,
    blue: 235
}, {
    name: 'SlateBlue',
    red: 106,
    green: 90,
    blue: 205
}, {
    name: 'SlateGray',
    red: 112,
    green: 128,
    blue: 144
}, {
    name: 'Snow',
    red: 255,
    green: 250,
    blue: 250
}, {
    name: 'SpringGreen',
    red: 0,
    green: 255,
    blue: 127
}, {
    name: 'SteelBlue',
    red: 70,
    green: 130,
    blue: 180
}, {
    name: 'Tan',
    red: 210,
    green: 180,
    blue: 140
}, {
    name: 'Teal',
    red: 0,
    green: 128,
    blue: 128
}, {
    name: 'Thistle',
    red: 216,
    green: 191,
    blue: 216
}, {
    name: 'Tomato',
    red: 255,
    green: 99,
    blue: 71
}, {
    name: 'Turquoise',
    red: 64,
    green: 244,
    blue: 208
}, {
    name: 'Violet',
    red: 238,
    green: 130,
    blue: 238
}, {
    name: 'Wheat',
    red: 245,
    green: 222,
    blue: 179
}, {
    name: 'White',
    red: 255,
    green: 255,
    blue: 255
}, {
    name: 'WhiteSmoke',
    red: 245,
    green: 245,
    blue: 245
}, {
    name: 'Yellow',
    red: 255,
    green: 255,
    blue: 0
}, {
    name: 'YellowGreen',
    red: 154,
    green: 205,
    blue: 50
}
];

var moveListener;
var downListener;
var upListener;
if (document.documentElement.clientWidth < 500) {
    moveListener = 'touchmove';
    downListener = 'touchstart';
    upListener = 'touchend';
} else {
    moveListener = 'mousemove';
    downListener = 'mousedown';
    upListener = 'mouseup';
}

var red = document.getElementById('value-red');
var redScroll = document.getElementById('scroll-red');
var redSpan = document.getElementById('redSpan');
var redConv = document.getElementById('red-conv');
var green = document.getElementById('value-green');
var greenScroll = document.getElementById('scroll-green');
var greenSpan = document.getElementById('greenSpan');
var greenConv = document.getElementById('green-conv');
var blue = document.getElementById('value-blue');
var blueScroll = document.getElementById('scroll-blue');
var blueSpan = document.getElementById('blueSpan');
var colorHex = document.getElementById('colorHex');
var blueConv = document.getElementById('blue-conv');
var colorName = document.getElementById('colorName');

// Convert rgb to hex

function fixer(input) {
    var x = input / 16;
    var regexX = /^\d+/g;
    var fixedX = parseInt(String(x).match(regexX));
    var regexY = /\.(\d+)/g
    var y = (parseFloat(String(x).match(regexY))) * 16;

    if (fixedX >= 10) {
        switch (fixedX) {
            case 10:
                fixedX = 'a';
                break;
            case 11:
                fixedX = 'b';
                break;
            case 12:
                fixedX = 'c';
                break;
            case 13:
                fixedX = 'd';
                break;
            case 14:
                fixedX = 'e';
                break;
            case 15:
                fixedX = 'f';
                break;
            case NaN:
                fixedX = 0;
                break;
        }
    } else if (!fixedX) {
        fixedX = 0;
    }
    if (y >= 10) {
        switch (y) {
            case 10:
                y = 'a';
                break;
            case 11:
                y = 'b';
                break;
            case 12:
                y = 'c';
                break;
            case 13:
                y = 'd';
                break;
            case 14:
                y = 'e';
                break;
            case 15:
                y = 'f';
                break;
            case NaN:
                y = 0;
                break;
        }
    } else if (!y) {
        y = 0;
    }
    return String(fixedX) + y;
}

// Display color name

function namingColor() {
    for (var x = 0; x < colorList.length; x++) {
        if (colorList[x].red === red.valueAsNumber && colorList[x].green === green.valueAsNumber && colorList[x].blue === blue.valueAsNumber) {
            colorName.textContent = colorList[x].name;
            break;
        } else {
            colorName.textContent = '';
        }
    }
}

// Arrows

function setValueMinus(x) {
    if (document.getElementById('value-' + x).value == 0) {
        document.getElementById('value-' + x).value = 0;
    } else {
        document.getElementById('value-' + x).value--;
        document.getElementById('scroll-' + x).value = document.getElementById('value-' + x).value;
        document.getElementById(x + 'Span').textContent = document.getElementById('value-' + x).value;
        document.getElementById(x + '-conv').textContent = fixer(document.getElementById('value-' + x).valueAsNumber);
    }
}
function setValuePlus(x) {
    if (document.getElementById('value-' + x).value == 255) {
        document.getElementById('value-' + x).value = 255;
    } else {
        document.getElementById('value-' + x).value++;
        document.getElementById('scroll-' + x).value = document.getElementById('value-' + x).value;
        document.getElementById(x + 'Span').textContent = document.getElementById('value-' + x).value;
        document.getElementById(x + '-conv').textContent = fixer(document.getElementById('value-' + x).valueAsNumber);
    }
}

// Function to change values

function updateValues(x) {
    document.getElementById('scroll-' + x).value = document.getElementById('value-' + x).value;
    document.getElementById(x + 'Span').textContent = document.getElementById('value-' + x).value;
    document.getElementById(x + '-conv').textContent = fixer(document.getElementById('value-' + x).valueAsNumber);
}

// Shuffle

function shuffle() {
    function randomNum() {
        return Math.floor((Math.random() * 256));
    }
    red.value = randomNum();
    redSpan.textContent = red.value;
    redScroll.value = red.value
    redConv.textContent = fixer(red.valueAsNumber);
    green.value = randomNum();
    greenSpan.textContent = green.value;
    greenScroll.value = green.value;
    greenConv.textContent = fixer(green.valueAsNumber);
    blue.value = randomNum();
    blueSpan.textContent = blue.value;
    blueScroll.value = blue.value;
    blueConv.textContent = fixer(blue.valueAsNumber);
    namingColor();
    document.querySelector('body').style.backgroundColor = 'rgb(' + red.value + ', ' + green.value + ', ' + blue.value + ')';
}

window.onload = function () {
    shuffle();
    collapse.checked = false;
};

document.getElementById('shuffle').addEventListener('click', function () {
    shuffle();
});

// Scroll Logic

document.getElementById('aa').addEventListener(moveListener, function (e) {
    if (e.target.id === 'scroll-red') {
        red.valueAsNumber = e.target.valueAsNumber;
        redSpan.textContent = e.target.value;
        redConv.textContent = fixer(e.target.valueAsNumber);
    } else if (e.target.id === 'scroll-green') {
        green.valueAsNumber = e.target.valueAsNumber;
        greenSpan.textContent = e.target.value;
        greenConv.textContent = fixer(e.target.valueAsNumber);
    } else if (e.target.id === 'scroll-blue') {
        blue.valueAsNumber = e.target.valueAsNumber;
        blueSpan.textContent = e.target.value;
        blueConv.textContent = fixer(e.target.valueAsNumber);
    }
    document.querySelector('body').style.backgroundColor = 'rgb(' + red.value + ', ' + green.value + ', ' + blue.value + ')';
    if (e.target.id === 'scroll-red' || e.target.id === 'scroll-green' || e.target.id === 'scroll-blue') {
        namingColor();
    }
});

// Arrow Logic

var timer = null;

document.getElementById('aa').addEventListener(downListener, function (e) {
    timer = setInterval(() => {
        if (e.target.parentNode.id === 'red-selector') {
            if (e.target.id === 'red-minus') {
                setValueMinus('red');
            } else if (e.target.id === 'red-plus') {
                setValuePlus('red');
            }
        } else if (e.target.parentNode.id === 'green-selector') {
            if (e.target.id === 'green-minus') {
                setValueMinus('green');
            } else if (e.target.id === 'green-plus') {
                setValuePlus('green');
            }
        } else if (e.target.parentNode.id === 'blue-selector') {
            if (e.target.id === 'blue-minus') {
                setValueMinus('blue');
            } else if (e.target.id === 'blue-plus') {
                setValuePlus('blue');
            }
        }
        document.querySelector('body').style.backgroundColor = 'rgb(' + red.value + ', ' + green.value + ', ' + blue.value + ')';
        namingColor();
    }, 50);
});
document.getElementById('aa').addEventListener(upListener, function () {
    clearInterval(timer);
});

// Input Box Logic

document.getElementById('aa').addEventListener('input', function (e) {
    if (e.target.value > 255) {
        e.target.value = 255;
    } else if (e.target.value < 0) {
        e.target.value = 0;
    }
    if (e.target.id === 'value-red') {
        updateValues('red');
    } else if (e.target.id === 'value-green') {
        updateValues('green');
    } else if (e.target.id === 'value-blue') {
        updateValues('blue');
    }
    document.querySelector('body').style.backgroundColor = 'rgb(' + red.value + ', ' + green.value + ', ' + blue.value + ')';
    namingColor();
});
document.getElementById('aa').addEventListener("keypress", function (e) {
    if (e.which != 0 && e.which != 8 && e.which < 48 || e.which > 57) {
        e.preventDefault();
    }
});

// Palette

var colorWrapper = document.getElementById('color-wrapper');
for (var x = 0; x < colorList.length; x++) {
    var colorHolder = document.createElement('div');
    colorHolder.className = 'holder';
    colorHolder.id = colorList[x].name;
    var colorExample = document.createElement('div');
    colorExample.className = 'color-example';
    colorExample.style.backgroundColor = 'rgb(' + colorList[x].red + ', ' + colorList[x].green + ', ' + colorList[x].blue + ')';
    colorHolder.appendChild(colorExample);
    var colorNameSpan = document.createElement('span');
    colorNameSpan.textContent = colorList[x].name;
    colorHolder.appendChild(colorNameSpan);
    colorWrapper.appendChild(colorHolder);
}

colorWrapper.addEventListener('click', function (e) {
    for (var x = 0; x < colorList.length; x++) {
        if (colorList[x].name === e.target.id) {
            document.querySelector('body').style.backgroundColor = 'rgb(' + colorList[x].red + ', ' + colorList[x].green + ', ' + colorList[x].blue + ')';
            red.valueAsNumber = colorList[x].red;
            redScroll.value = colorList[x].red;
            redSpan.textContent = colorList[x].red;
            redConv.textContent = fixer(colorList[x].red);
            green.valueAsNumber = colorList[x].green;
            greenScroll.value = colorList[x].green;
            greenSpan.textContent = colorList[x].green;
            greenConv.textContent = fixer(colorList[x].green);
            blue.valueAsNumber = colorList[x].blue;
            blueScroll.value = colorList[x].blue;
            blueSpan.textContent = colorList[x].blue;
            blueConv.textContent = fixer(colorList[x].blue);
            colorName.textContent = colorList[x].name;

        }
    }
});

// Collapse for mobile

var container = document.querySelector('.container');
var collapse = document.getElementById('collapse');
var collapseArrow = document.getElementById('collapse-arrow');
var colorWrapperTitle = document.getElementById('color-wrapper-title');
var cc = document.getElementById('cc');

function closePalette() {
    collapseArrow.removeAttribute('style');
    container.className = 'container';
    colorWrapper.className = 'color-wrapper';
    colorWrapperTitle.removeAttribute('style');
    cc.removeAttribute('class');
}

collapse.addEventListener('change', function(e) {
    if (e.target.checked) {
        collapseArrow.setAttribute('style', 'transform: rotate(180deg)');
        container.className = 'container collapsed';
        colorWrapper.className = 'color-wrapper w-open';
        colorWrapperTitle.setAttribute('style', 'height: 8%;order: 1;opacity: 1');
        cc.className = 'open';
    } else {
        closePalette();
    }
});

colorWrapper.addEventListener('click', function(e) {
    if (e.target.parentNode.className === 'color-wrapper w-open') {
        closePalette();
        collapse.checked = false;
    }
});
